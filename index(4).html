
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NovaRPM – P=NP Proof Tool</title>
  <style>
    body { font-family: sans-serif; background: linear-gradient(to bottom, #e8eefc, #f7faff); text-align: center; padding: 20px; }
    h1 { font-size: 2rem; margin-bottom: 20px; }
    nav button {
      padding: 10px 20px; margin: 5px; border: none;
      background-color: #343a50; color: white; border-radius: 8px; cursor: pointer;
    }
    .section { display: none; margin-top: 30px; }
    .active { display: block; }
    textarea { width: 90%; height: 80px; margin-bottom: 10px; }
    button.solve { background-color: #0066cc; padding: 10px 20px; color: white; border-radius: 6px; border: none; }
    pre { text-align: left; background: #f4f4f4; padding: 10px; border-radius: 6px; width: 90%; margin: auto; }
  </style>
</head>
<body>
  <h1>NovaRPM – P=NP Interactive Proof Tool</h1>
  <nav>
    <button onclick="switchTab('sat')">SAT</button>
    <button onclick="switchTab('tsp')">TSP</button>
    <button onclick="switchTab('hamiltonian')">Hamiltonian</button>
  </nav>

  <div id="sat" class="section active">
    <h2>SAT Solver</h2>
    <textarea id="satInput">(x1 ∨ ¬x2 ∨ x3) ∧ (¬x1 ∨ x4 ∨ x5) ∧ (x2 ∨ ¬x3 ∨ x6) ∧ (¬x4 ∨ ¬x5 ∨ x6) ∧ (x1 ∨ x2 ∨ ¬x6) ∧ (¬x3 ∨ ¬x4 ∨ ¬x5)</textarea>
    <br><button class="solve" onclick="solveSAT()">Solve SAT</button>
    <pre id="satOutput"></pre>
  </div>

  <div id="tsp" class="section">
    <h2>TSP Solver</h2>
    <textarea id="tspInput">[[0,2,9,10],[1,0,6,4],[15,7,0,8],[6,3,12,0]]</textarea>
    <br><button class="solve" onclick="solveTSP()">Solve TSP</button>
    <pre id="tspOutput"></pre>
  </div>

  <div id="hamiltonian" class="section">
    <h2>Hamiltonian Cycle</h2>
    <textarea id="hamInput">A: B, C, E
B: A, C, D
C: A, B, D, F
D: B, C, E, G
E: A, D, H
F: C, G
G: D, F, H, I
H: E, G, I
I: G, H, F</textarea>
    <br><button class="solve" onclick="solveHamiltonian()">Solve Hamiltonian</button>
    <pre id="hamOutput"></pre>
  </div>

  <script>
    function switchTab(tabId) {
      document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
    }

    function solveSAT() {
      const input = document.getElementById("satInput").value;
      const vars = [...new Set(input.match(/x\d+/g))];
      const results = [];
      for (let i = 0; i < (1 << vars.length); i++) {
        const assignment = {};
        vars.forEach((v, idx) => assignment[v] = (i & (1 << idx)) !== 0);
        let expr = input;
        for (let v of vars) {
          expr = expr.replaceAll("¬" + v, !assignment[v]);
          expr = expr.replaceAll(v, assignment[v]);
        }
        try {
          if (eval(expr.replaceAll("∧", "&&").replaceAll("∨", "||"))) {
            results.push(vars.map(v => v + "=" + (assignment[v] ? "T" : "F")).join(", "));
          }
        } catch {}
      }
      const output = `[SAT] RPM Solver Executed
Input: ${input}
Variables: ${vars.join(", ")}
Result: ${results.length > 0 ? "SATISFIABLE ✅\nSatisfying Assignments:\n" + results.map((r, i) => "#" + (i+1) + ": " + r).join("\n") : "UNSATISFIABLE ❌"}`;
      document.getElementById("satOutput").innerText = output;
    }

    function solveTSP() {
      const input = JSON.parse(document.getElementById("tspInput").value);
      const cities = input.length;
      const permute = (arr) => {
        if (arr.length === 1) return [arr];
        const res = [];
        for (let i = 0; i < arr.length; i++) {
          const rest = arr.slice(0, i).concat(arr.slice(i + 1));
          for (const p of permute(rest)) res.push([arr[i], ...p]);
        }
        return res;
      };
      const allPaths = permute([...Array(cities).keys()].slice(1));
      let minCost = Infinity, bestPath = [];
      for (const path of allPaths) {
        let cost = input[0][path[0]];
        for (let i = 0; i < path.length - 1; i++) cost += input[path[i]][path[i + 1]];
        cost += input[path[path.length - 1]][0];
        if (cost < minCost) { minCost = cost; bestPath = path; }
      }
      bestPath = [0, ...bestPath, 0];
      document.getElementById("tspOutput").innerText = `[TSP] RPM Solver Executed
Best path: ${bestPath.join(" → ")}
Total cost: ${minCost}`;
    }

    function solveHamiltonian() {
      const input = document.getElementById("hamInput").value.trim().split("\n");
      const graph = {};
      input.forEach(line => {
        const [node, neighbors] = line.split(":");
        graph[node.trim()] = neighbors.split(",").map(n => n.trim());
      });
      const nodes = Object.keys(graph);
      const path = [];

      function backtrack(current, visited) {
        path.push(current);
        if (path.length === nodes.length && graph[current].includes(path[0])) {
          path.push(path[0]);
          return true;
        }
        for (const neighbor of graph[current]) {
          if (!visited.has(neighbor)) {
            visited.add(neighbor);
            if (backtrack(neighbor, visited)) return true;
            visited.delete(neighbor);
          }
        }
        path.pop();
        return false;
      }

      for (const start of nodes) {
        const visited = new Set([start]);
        path.length = 0;
        if (backtrack(start, visited)) {
          document.getElementById("hamOutput").innerText = `[Hamiltonian] RPM Solver Executed\nInput: ${input.join("\n")}\nResult: ${path.join(" → ")}`;
          return;
        }
      }
      document.getElementById("hamOutput").innerText = `[Hamiltonian] RPM Solver Executed\nInput: ${input.join("\n")}\nResult: No Hamiltonian cycle found ❌`;
    }
  </script>
</body>
</html>
