<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Simple 3D Castle Game</title>
<style>
  body { margin: 0; overflow: hidden; background: #000; }
</style>
</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/controls/OrbitControls.js"></script>

<script>
  // ğŸ¯ ØµØ­Ù†Ù‡ Ùˆ Ø¯ÙˆØ±Ø¨ÛŒÙ†
  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0x87ceeb); // Ø¢Ø³Ù…Ø§Ù† Ø¢Ø¨ÛŒ

  const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.set(10, 10, 20);

  const renderer = new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  // ğŸ¯ Ú©Ù†ØªØ±Ù„ Ù…ÙˆØ³
  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.target.set(0, 0, 0);
  controls.update();

  // ğŸ¯ Ù†ÙˆØ±
  const light = new THREE.DirectionalLight(0xffffff, 1);
  light.position.set(10, 20, 10);
  scene.add(light);
  scene.add(new THREE.AmbientLight(0xffffff, 0.5));

  // ğŸ¯ Ø²Ù…ÛŒÙ†
  const groundGeo = new THREE.PlaneGeometry(100, 100);
  const groundMat = new THREE.MeshLambertMaterial({color: 0x228B22});
  const ground = new THREE.Mesh(groundGeo, groundMat);
  ground.rotation.x = -Math.PI/2;
  scene.add(ground);

  // ğŸ¯ Ù‚Ù„Ø¹Ù‡
  function createCastle(x, z) {
    const group = new THREE.Group();

    const wallMat = new THREE.MeshLambertMaterial({color: 0x888888});
    const towerMat = new THREE.MeshLambertMaterial({color: 0x666666});

    // Ø¯ÛŒÙˆØ§Ø±Ù‡Ø§
    const wallGeo = new THREE.BoxGeometry(8, 3, 1);
    const wall1 = new THREE.Mesh(wallGeo, wallMat);
    wall1.position.set(0, 1.5, -4);
    group.add(wall1);

    const wall2 = wall1.clone();
    wall2.position.set(0, 1.5, 4);
    group.add(wall2);

    const wall3 = new THREE.Mesh(new THREE.BoxGeometry(1, 3, 8), wallMat);
    wall3.position.set(-4, 1.5, 0);
    group.add(wall3);

    const wall4 = wall3.clone();
    wall4.position.set(4, 1.5, 0);
    group.add(wall4);

    // Ø¨Ø±Ø¬â€ŒÙ‡Ø§
    const towerGeo = new THREE.CylinderGeometry(1, 1, 5, 8);
    const t1 = new THREE.Mesh(towerGeo, towerMat);
    t1.position.set(-4, 2.5, -4);
    group.add(t1);

    const t2 = t1.clone();
    t2.position.set(4, 2.5, -4);
    group.add(t2);

    const t3 = t1.clone();
    t3.position.set(-4, 2.5, 4);
    group.add(t3);

    const t4 = t1.clone();
    t4.position.set(4, 2.5, 4);
    group.add(t4);

    group.position.set(x, 0, z);
    scene.add(group);
  }
  createCastle(0, 0);

  // ğŸ¯ Ø¯Ø±Ø®Øªâ€ŒÙ‡Ø§
  function createTree(x, z) {
    const trunkGeo = new THREE.CylinderGeometry(0.3, 0.5, 2, 6);
    const trunkMat = new THREE.MeshLambertMaterial({color: 0x8B4513});
    const trunk = new THREE.Mesh(trunkGeo, trunkMat);
    trunk.position.y = 1;

    const leavesGeo = new THREE.SphereGeometry(1, 8, 8);
    const leavesMat = new THREE.MeshLambertMaterial({color: 0x228B22});
    const leaves = new THREE.Mesh(leavesGeo, leavesMat);
    leaves.position.y = 2.5;

    const tree = new THREE.Group();
    tree.add(trunk);
    tree.add(leaves);
    tree.position.set(x, 0, z);
    scene.add(tree);
  }

  // Ú†Ù†Ø¯ Ø¯Ø±Ø®Øª Ø§Ø·Ø±Ø§Ù Ù‚Ù„Ø¹Ù‡
  for (let i = 0; i < 10; i++) {
    createTree(Math.random()*40 - 20, Math.random()*40 - 20);
  }

  // ğŸ¯ Ø­Ù„Ù‚Ù‡ Ø±Ù†Ø¯Ø±
  function animate() {
    requestAnimationFrame(animate);
    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>

</body>
</html>
