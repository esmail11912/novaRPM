import './style.css';
import './predictor.js';

document.getElementById('runBtn').addEventListener('click', () => {
  const inputText = document.getElementById('inputArea').value.trim();
  const lines = inputText.split('\n');

  if (lines.length < 3) {
    alert('Please enter weights, values, and capacity.');
    return;
  }

  const weights = lines[0].split(',').map(x => parseInt(x.trim()));
  const values = lines[1].split(',').map(x => parseInt(x.trim()));
  const capacityLine = lines[2].toLowerCase();

  const capacityMatch = capacityLine.match(/capacity:\s*(\d+)/);
  const capacity = capacityMatch ? parseInt(capacityMatch[1]) : 0;

  if (weights.length !== values.length || isNaN(capacity)) {
    alert('Invalid input format.');
    return;
  }

  // Run analysis and get result
  const result = analyzePerformance(weights, values, capacity);

  // Display result separately
  document.getElementById('result').innerText = `Maximum value = ${result}`;
});
