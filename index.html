<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RPM 3-SAT Solver – Step 7 Enhanced</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background: #fff; padding: 20px; }
    h2 { margin-top: 40px; }
    table { border-collapse: collapse; width: 100%; margin: 10px 0; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #f4f4f4; }
    .success { background-color: #d4edda; }
    .error { background-color: #f8d7da; }
    .section-title { font-size: 20px; margin-top: 30px; font-weight: bold; }
    .icon { font-size: 18px; margin-right: 5px; }
    #initialPressureChartContainer { width: 100%; max-width: 700px; margin: auto; }
  </style>
</head>
<body>

  <h1>🚀 RPM 3-SAT Solver – Reflective Pressure Model</h1>

  <h2 class="section-title">📋 Parsed Clauses:</h2>
  <table>
    <tr><th>#</th><th>Clause (Raw)</th><th>Visual</th></tr>
    <tr><td>1</td><td>[1,2,3]</td><td>x1 ∨ x2 ∨ x3 🍀</td></tr>
    <tr><td>2</td><td>[-1,-2,-3]</td><td>¬x1 ∨ ¬x2 ∨ ¬x3 🍀</td></tr>
    <tr><td>3</td><td>[4,5,-6]</td><td>x4 ∨ x5 ∨ ¬x6 🍀</td></tr>
  </table>

  <h2 class="section-title">🔑 Variable Mapping:</h2>
  <pre>{}</pre>

  <h2 class="section-title">🧠 Initial Pressure for Variables</h2>
  <p>
    Below is the graphical view of initial pressures calculated for each variable.
    Positive pressures are shown in green, negative in red, and zero in gray.
  </p>
  <pre>
{
  "1": 0,
  "2": 0,
  "3": 0,
  "4": 1,
  "5": 1,
  "6": -1
}
  </pre>

  <div id="initialPressureChartContainer">
    <canvas id="initialPressureChart"></canvas>
  </div>

  <script>
    const ctx = document.getElementById('initialPressureChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['x1', 'x2', 'x3', 'x4', 'x5', 'x6'],
        datasets: [{
          label: 'Initial Pressure',
          data: [0, 0, 0, 1, 1, -1],
          backgroundColor: [
            'gray', 'gray', 'gray',
            'green', 'green', 'red'
          ]
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          title: { display: true, text: 'Initial Pressure Chart' }
        },
        scales: {
          y: {
            beginAtZero: true,
            suggestedMin: -2,
            suggestedMax: 2
          }
        }
      }
    });
  </script>

</body>
</html>
